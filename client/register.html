<!DOCTYPE html>
<html>

<head>
  <title>Facebook Login JavaScript Example</title>
  <meta charset="UTF-8">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bulma/0.6.1/css/bulma.min.css">
  <link rel="stylesheet" href="assets/style.css">
</head>

<body>
  <div class="container_myStyle">
    <div class="containerCust">

      <div class="" style="padding-top: 16%;">
        <!--notification-->
        <!-- <div class="notification">
          <button class="delete"></button>
          <div id="status">
          </div>
        </div> -->
        <!--login form-->
        <form method="post">

          <div class="field">
             <label class="label">Name</label>
             <p class="control has-icons-left">
                <input id="name" class="input" type="text" placeholder="Full name" name="name">
                <span class="icon is-small is-left">
                <i class="fa fa-user-o"></i>
              </span>
            </p>
          </div>
          <div class="field">
            <label class="label">Username</label>
            <p class="control has-icons-left">
              <input id="username" class="input" type="text" placeholder="username" name="username">
              <span class="icon is-small is-left">
                <i class="fa fa-user"></i>
              </span>
            </p>
          </div>
          <div class="field">
              <label class="label">Email</label>
              <p class="control has-icons-left">
                <input id="email" class="input" type="email" placeholder="example@mail.com" name="email">
                <span class="icon is-small is-left">
                  <i class="fa fa-envelope"></i>
                </span>
              </p>
          </div>
          <div class="field">
              <label class="label">Password</label>
              <p class="control has-icons-left">
                <input id="password" class="input" type="password" placeholder="Password" name="password">
                <span class="icon is-small is-left">
                  <i class="fa fa-lock"></i>
                </span>
              </p>
            </div>

          <p style="padding-top:13px;" class="control">
            <button type="submit" class="button is-info is-medium is-fullwidth">
              Signup
            </button>
          </p>
        </form>
        <div style="padding-top:5%;" class="field">
            <p class="control">
                <p style="text-align: center; font-size:13px;">Already account go<a href="http://localhost:8080/login.html"> Login</a></p>
            </p>
          </div>
      </div>
    </div>
  </div>
  </div>
</body>
<script src="http://code.jquery.com/jquery-3.2.1.min.js" integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4="
  crossorigin="anonymous"></script>
<script>
  $(document).ready(function(){
    $('form').submit(function(e){
      e.preventDefault()
      let name     = $('input#name')
      let username = $('input#username')
      let email    = $('input#email')
      let password = $('input#password')
      $.ajax({
        url      : 'http://localhost:3000/api/users/register',
        method   : 'POST',
        dataType : 'JSON',
        data     : {
          'input_name'     : name.val(),
          'input_username' : username.val(),
          'input_email'    : email.val(),
          'input_password' : password.val()
        },
        success   : function(response){
          // console.log('this response >>>', response)
          // console.log('this response name >>>', response.name)
          window.location = "http://localhost:8080/main-page.html"
        },
        error    : function(message){
          console.log('this err >>>', message)
        }
      })
    })
  })
</script>

</html>
